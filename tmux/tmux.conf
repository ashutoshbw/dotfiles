# change the prefix
unbind C-b
set -g prefix C-Space

# enable true color in tmux
set -sa terminal-overrides ",alacritty:Tc"

# force a reload of the config file
unbind r
bind r source-file "$XDG_CONFIG_HOME/tmux/tmux.conf" \; display "Reloaded tmux conf"

# enable mouse
set -g mouse on

# split panes with vim like motion
bind H split-window -hb -c "#{pane_current_path}" # new pane goes on left
bind J split-window -v -c "#{pane_current_path}"  # new pane goes on below
bind K split-window -vb -c "#{pane_current_path}" # new pane goes on above
bind L split-window -h -c "#{pane_current_path}"  # new pane goes on right

# navigate panes with vim motion
bind -n M-h 'select-pane -L'
bind -n M-j 'select-pane -D'
bind -n M-k 'select-pane -U'
bind -n M-l 'select-pane -R'

# navigate windows prev and next with vim motion
bind -n C-M-h previous-window
bind -n C-M-l next-window

set -g history-limit 10000

# By default there is delay when you go to
# normal mode from insert mode in neovim. This line
# removes that delay. From: https://github.com/neovim/neovim/issues/2035
set -sg escape-time 0

unbind n #DEFAULT KEY: Move to next window
unbind w #DEFAULT KEY: change current window interactively
bind n command-prompt "rename-window '%%'"
bind w new-window -c "#{pane_current_path}"

set -g base-index 1
set-window-option -g pane-base-index 1


set-window-option -g mode-keys vi

unbind -T copy-mode-vi Space; #Default for begin-selection
unbind -T copy-mode-vi Enter; #Default for copy-selection
bind -T copy-mode-vi v send-keys -X begin-selection
bind -T copy-mode-vi y send-keys -X copy-pipe-and-cancel
